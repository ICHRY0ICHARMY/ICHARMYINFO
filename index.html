<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ICH ARMY — Number Info</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%25%22 height=%22100%25%22 fill=%22%23111422%22/><text x=%2250%25%22 y=%2256%25%22 font-size=%2250%22 text-anchor=%22middle%22 fill=%22%23ffcc00%22 font-family=%22Arial%22>IA</text></svg>">

  <style>
    :root{
      --bg:#0b1020;
      --card:#0f1724;
      --accent:#7be4ff;
      --accent2:#ffb86b;
      --glass: rgba(255,255,255,0.03);
      --glass-2: rgba(255,255,255,0.02);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:
        radial-gradient(800px 400px at 10% 10%, rgba(123,228,255,0.05), transparent 8%),
        radial-gradient(700px 350px at 90% 90%, rgba(255,184,107,0.04), transparent 10%),
        var(--bg);
      color:#e6eef8;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:40px;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    /* Page frame */
    .scene {
      width:min(980px, 96vw);
      perspective:1200px;
    }

    /* 3D card */
    .card {
      width:100%;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:20px;
      padding:24px;
      transform-style:preserve-3d;
      transition:transform 300ms cubic-bezier(.2,.9,.3,1), box-shadow 300ms;
      box-shadow: 0 10px 40px rgba(2,8,23,0.55), inset 0 1px 0 rgba(255,255,255,0.02);
      display:flex;
      gap:24px;
      align-items:stretch;
    }

    .card:hover{ transform: translateY(-8px) rotateX(4deg) rotateY(-6deg); box-shadow: 0 30px 70px rgba(2,8,23,0.65); }

    /* left panel (visual/logo) */
    .left {
      width:340px;
      min-width:240px;
      border-radius:16px;
      background: linear-gradient(135deg, rgba(123,228,255,0.03), rgba(255,184,107,0.02));
      padding:20px;
      position:relative;
      box-shadow: 0 8px 30px rgba(3,10,25,0.45);
      transform: translateZ(30px);
      display:flex;
      flex-direction:column;
      gap:16px;
      align-items:center;
      justify-content:center;
    }

    /* ICH ARMY logo (SVG inline) */
    .logo {
      width:160px;
      height:160px;
      display:flex;
      align-items:center;
      justify-content:center;
      border-radius:50%;
      background: linear-gradient(135deg,#001122 0%, #09314a 100%);
      box-shadow: 0 6px 24px rgba(11,24,40,0.6), inset 0 -6px 50px rgba(255,255,255,0.02);
      transform: rotateY(12deg) translateZ(50px);
    }
    .logo svg { width:92%; height:92% }

    .left .tag {
      background:var(--glass);
      padding:8px 12px;
      border-radius:999px;
      font-weight:600;
      color:var(--accent);
      letter-spacing:1px;
      transform: translateZ(20px);
      box-shadow: 0 2px 10px rgba(123,228,255,0.04);
    }

    /* right panel (content) */
    .right{
      flex:1;
      padding:8px 4px;
      transform: translateZ(20px);
      display:flex;
      flex-direction:column;
      gap:12px;
    }
    .title-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    h1{
      margin:0;
      font-size:20px;
      letter-spacing:0.6px;
    }
    .controls{
      display:flex;
      gap:8px;
      align-items:center;
    }
    input[type="text"]{
      background:var(--glass-2);
      border:1px solid rgba(255,255,255,0.03);
      color:inherit;
      padding:10px 12px;
      border-radius:10px;
      outline:none;
      min-width:180px;
    }
    button{
      background:linear-gradient(90deg,var(--accent),var(--accent2));
      border:none;
      color:#021028;
      padding:10px 14px;
      border-radius:10px;
      cursor:pointer;
      font-weight:700;
      box-shadow: 0 6px 18px rgba(123,228,255,0.08);
    }
    button:active{ transform:translateY(1px) }

    .info-grid{
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap:12px;
      margin-top:8px;
    }
    .info-card{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:12px;
      padding:12px;
      min-height:74px;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
      display:flex;
      flex-direction:column;
      gap:6px;
      justify-content:center;
    }
    .info-card .label{ font-size:12px; color: #9fb7c7; }
    .info-card .val{ font-size:16px; font-weight:700; color:#e6f8ff; word-break:break-word }

    .raw {
      margin-top:12px;
      background:rgba(0,0,0,0.25);
      border-radius:8px;
      padding:12px;
      font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Courier New", monospace;
      font-size:13px;
      color:#cfeffb;
      max-height:180px;
      overflow:auto;
    }

    .hint { color:#87bcd8; font-size:13px; margin-top:6px; }

    /* responsive */
    @media (max-width:820px){
      .card{ flex-direction:column; align-items:stretch }
      .left{ width:100%; flex-direction:row; padding:14px; gap:12px }
      .logo{ width:90px; height:90px }
      .right{ padding:6px 0 }
      .info-grid{ grid-template-columns: repeat(1, 1fr) }
    }
  </style>
</head>
<body>
  <div class="scene">
    <div class="card" id="card">
      <div class="left">
        <div class="logo" title="ICH ARMY">
          <!-- Inline SVG for ICH ARMY logo -->
          <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="ICH ARMY logo">
            <defs>
              <linearGradient id="g1" x1="0" x2="1">
                <stop offset="0" stop-color="#7be4ff"/>
                <stop offset="1" stop-color="#ffb86b"/>
              </linearGradient>
              <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="6" result="b"/>
                <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
              </filter>
            </defs>

            <circle cx="100" cy="100" r="92" fill="#031722" />
            <g transform="translate(100,100)" filter="url(#glow)">
              <text x="0" y="-6" text-anchor="middle" fill="url(#g1)" font-size="46" font-weight="800" font-family="Verdana, Arial">ICH</text>
              <text x="0" y="44" text-anchor="middle" fill="#a7dff0" font-size="26" font-weight="700" font-family="Verdana, Arial">ARMY</text>
            </g>
          </svg>
        </div>

        <div style="display:flex;flex-direction:column;align-items:center;gap:8px;">
          <div class="tag">Official</div>
          <div style="font-size:12px;color:#9fb7c7">Number Info Fetcher</div>
        </div>
      </div>

      <div class="right">
        <div class="title-row">
          <h1>ICH ARMY — Mobile Number Lookup</h1>
          <div class="controls">
            <input id="mobileInput" type="text" placeholder="Enter mobile (e.g. 8801700000000)" />
            <button id="goBtn">Fetch</button>
          </div>
        </div>

      

        <div class="info-grid" id="infoGrid">
          <!-- info cards populated by JS -->
          <div class="info-card"><div class="label">Status</div><div class="val" id="status">—</div></div>
          <div class="info-card"><div class="label">Operator / Network</div><div class="val" id="operator">—</div></div>
          <div class="info-card"><div class="label">Country</div><div class="val" id="country">—</div></div>
          <div class="info-card"><div class="label">Region / Circle</div><div class="val" id="region">—</div></div>
        </div>

        <div class="raw" id="rawOut">Raw response will appear here when you fetch.</div>
      </div>
    </div>
  </div>

  <script>
    // Config: API base provided by you
    const API_BASE = 'https://taitan.mastimusicboxabd01.workers.dev/?mobile='; // do not change unless needed

    // helper: set multiple fields safely
    function setField(id, text){
      document.getElementById(id).textContent = text ?? '—';
    }

    const mobileInput = document.getElementById('mobileInput');
    const goBtn = document.getElementById('goBtn');
    const rawOut = document.getElementById('rawOut');
    const card = document.getElementById('card');

    // slight 3D tilt on pointer move
    document.addEventListener('mousemove', (e) => {
      const r = card.getBoundingClientRect();
      const cx = r.left + r.width/2;
      const cy = r.top + r.height/2;
      const dx = (e.clientX - cx) / r.width;
      const dy = (e.clientY - cy) / r.height;
      const rx = dy * -8;
      const ry = dx * 12;
      card.style.transform = `translateY(-6px) rotateX(${rx}deg) rotateY(${ry}deg)`;
    });
    document.addEventListener('mouseleave', ()=> card.style.transform = '');

    async function fetchNumber(num){
      if(!num) { alert('Please enter a number'); return; }
      setField('status', 'Loading…');
      setField('operator', '—');
      setField('country', '—');
      setField('region', '—');
      rawOut.textContent = 'Fetching...';

      try{
        const url = API_BASE + encodeURIComponent(num);
        const resp = await fetch(url, {cache:'no-store'});
        // First try parse as JSON
        let data;
        const text = await resp.text();
        try {
          data = JSON.parse(text);
        } catch(e) {
          // not JSON — show text
          rawOut.textContent = text || ('HTTP ' + resp.status);
          setField('status', resp.ok ? 'OK (non-JSON)' : ('Error ' + resp.status));
          return;
        }

        // pretty print raw
        rawOut.textContent = JSON.stringify(data, null, 2);

        // Try to read common fields - be permissive
        // Many API responses vary; try multiple keys
        const maybeStatus = data.status ?? data.success ?? data.ok ?? (resp.ok ? 'success' : 'error');
        setField('status', String(maybeStatus));

        // operator/network detection common keys
        const operator = data.operator ?? data.network ?? data.carrier ?? data.provider ?? data.service;
        if(operator) setField('operator', operator);

        const country = data.country ?? data.iso ?? data.cc ?? (data.location && data.location.country) ?? (data.owner && data.owner.country);
        if(country) setField('country', country);

        const region = data.region ?? data.circle ?? data.location?.region ?? data.area ?? data.city;
        if(region) setField('region', region);

        // If no fields found, attempt to display some heuristics / first-level keys
        if(!operator && !country && !region){
          // pick first few fields and show them in operator/country/region
          const keys = Object.keys(data);
          if(keys.length){
            setField('operator', keys[0] + ': ' + String(data[keys[0]]));
            if(keys[1]) setField('country', keys[1] + ': ' + JSON.stringify(data[keys[1]]));
            if(keys[2]) setField('region', keys[2] + ': ' + JSON.stringify(data[keys[2]]));
          } else {
            setField('operator', 'No data found');
          }
        }

      } catch (err) {
        console.error(err);
        rawOut.textContent = 'Fetch error: ' + (err.message || err);
        setField('status', 'Fetch error');
      }
    }

    goBtn.addEventListener('click', () => fetchNumber(mobileInput.value.trim()));
    mobileInput.addEventListener('keydown', (e) => {
      if(e.key === 'Enter') fetchNumber(mobileInput.value.trim());
    });

    // Optional: populate an example number (comment or uncomment)
    // mobileInput.value = '88017XXXXXXX';
    // fetchNumber(mobileInput.value);
  </script>
</body>
</html>
